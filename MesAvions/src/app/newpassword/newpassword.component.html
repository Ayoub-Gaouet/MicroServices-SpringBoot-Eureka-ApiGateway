<div class="reset-password-container">
  <h2 class="page-title">Réinitialisation de mot de passe</h2>
  <form
    name="form"
    (ngSubmit)="f.form.valid && resetPassword()"
    #f="ngForm"
    novalidate
  >
    <div class="form-group">
      <label for="password" class="form-label">Nouveau mot de passe :</label>
      <input
        type="password"
        class="form-control"
        name="password"
        [(ngModel)]="form.password"
        required
        minlength="6"
        placeholder="••••••••"
        #password="ngModel"
        [ngClass]="{ 'is-invalid': f.submitted && password.errors }"
      />
      <div class="invalid-feedback" *ngIf="password.errors && f.submitted">
        <div *ngIf="password.errors['required']">Le mot de passe est obligatoire</div>
        <div *ngIf="password.errors['minlength']">Le mot de passe doit contenir au moins 6 caractères</div>
      </div>
    </div>
    <div class="form-group">
      <label for="confirmPassword" class="form-label">Confirmer le mot de passe :</label>
      <input
        type="password"
        class="form-control"
        name="confirmPassword"
        [(ngModel)]="form.confirmPassword"
        placeholder="••••••••"
        required
      />
    </div>
    <div class="alert alert-warning" *ngIf="f.submitted && isNewPasswordFailed">
      Échec de la réinitialisation du mot de passe !<br />{{ errorMessage }}
    </div>
    <button type="submit" class="btn-submit">Réinitialiser le mot de passe</button>
  </form>
  <div *ngIf="successMessage" class="success-message">{{ successMessage }}</div>
  <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
</div>
